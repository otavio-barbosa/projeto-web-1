<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/styles/home.css">

    <script src="/js/jquery-3.6.4.js"></script>
    <script>
        $(function () {
            $("#header").load('/partials/header.html')
        });
    </script>
    <title>Home</title>
</head>

<body>
    <div id="header"></div>
    <div class="content">
        <input type="text" placeholder="PESQUISAR VACINA...">
        <div class="flex-content">
            <main class="cards">
                <script>
                    let cards = document.querySelector(".cards")

                    fetch("../js/vacine.json")
                        .then((response) => response.json())
                        .then(({ vacines }) => {
                            vacines
                                .map((vacine, id) => {
                                    let carta = document.createElement("div")
                                    carta.setAttribute('class', 'card')
                                    carta.style.cursor = 'pointer'
                                    carta.addEventListener('click', function () {
                                        const idWithInc = id + 1
                                        window.location.href = `/pages/edit-vacine.html?id=${idWithInc}`
                                    })
                                    carta.innerHTML += `<h2 class="card-name"> ${vacine.name} </h2>`
                                    carta.innerHTML += `<div class="dose-card"> ${vacine.dose} </div>`
                                    carta.innerHTML += `<p class="date-card"> ${vacine.date} </p>`
                                    carta.innerHTML += `<img src="${vacine.image}" class="img-card"/>`
                                    carta.innerHTML += `<p class="next-card"> ${vacine.nextDose} </p>`
                                    cards.appendChild(carta)
                                })
                        })
                </script>
            </main>
            <a href="/pages/new-vacine.html" class="btn-vacine">Nova vacina</a>
        </div>
    </div>
</body>

</html>